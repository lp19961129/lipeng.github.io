<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>前端安全指南：防范常见安全威胁 - 个人博客</title>
    <link rel="stylesheet" href="../css/style.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* 文章详情页特定样式 */
        .post-content h2 {
            border-bottom: 2px solid #4CAF50;
            padding-bottom: 10px;
            margin-top: 40px;
            color: #2c3e50;
        }
        .post-content h3 {
            color: #34495e;
            margin-top: 30px;
        }
        .post-content p {
            margin-bottom: 20px;
            line-height: 1.8;
        }
        .post-content ul,
        .post-content ol {
            margin-bottom: 20px;
            padding-left: 30px;
        }
        .post-content li {
            margin-bottom: 10px;
            line-height: 1.6;
        }
        .code-block {
            background-color: #f5f5f5;
            border-radius: 8px;
            margin-bottom: 25px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .code-title {
            background-color: #4CAF50;
            color: white;
            padding: 12px 16px;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .code-block pre {
            margin: 0;
            padding: 20px;
            overflow-x: auto;
        }
        .code-block code {
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            line-height: 1.5;
        }
        .note {
            background-color: #f8f9fa;
            border-left: 4px solid #6c757d;
            padding: 16px;
            margin-bottom: 25px;
            border-radius: 0 4px 4px 0;
        }
        .note-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .warning {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 16px;
            margin-bottom: 25px;
            border-radius: 0 4px 4px 0;
        }
        .warning-title {
            font-weight: bold;
            margin-bottom: 8px;
            color: #856404;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .post-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 30px 0;
        }
        .post-tags .tag {
            background-color: #e9ecef;
            color: #495057;
            padding: 6px 12px;
            border-radius: 50px;
            font-size: 14px;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        .post-tags .tag:hover {
            background-color: #4CAF50;
            color: white;
            transform: translateY(-2px);
        }
        .post-navigation {
            display: flex;
            justify-content: space-between;
            margin: 40px 0;
            padding-top: 20px;
            border-top: 1px solid #dee2e6;
        }
        .post-nav-link {
            color: #4CAF50;
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .post-nav-link:hover {
            color: #388E3C;
            transform: translateX(5px);
        }
        .post-nav-link.previous:hover {
            transform: translateX(-5px);
        }
        .social-share {
            display: flex;
            gap: 12px;
            margin: 30px 0;
        }
        .share-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            color: white;
            text-decoration: none;
            transition: all 0.3s ease;
        }
        .share-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .share-btn.facebook {
            background-color: #1877F2;
        }
        .share-btn.twitter {
            background-color: #1DA1F2;
        }
        .share-btn.linkedin {
            background-color: #0A66C2;
        }
        .share-btn.reddit {
            background-color: #FF4500;
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <a href="../index.html">
                        <i class="fas fa-leaf"></i> 个人博客
                    </a>
                </div>
                <nav class="nav">
                    <ul class="nav-list">
                        <li class="nav-item"><a href="../index.html" class="nav-link">首页</a></li>
                        <li class="nav-item"><a href="../index.html#about" class="nav-link">关于我</a></li>
                        <li class="nav-item"><a href="../index.html#blog" class="nav-link">博客</a></li>
                        <li class="nav-item"><a href="../index.html#contact" class="nav-link">联系</a></li>
                    </ul>
                </nav>
                <div class="header-right">
                    <button class="mobile-menu-toggle" id="mobile-menu-toggle">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- 移动端菜单 -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-content">
            <button class="mobile-menu-close" id="mobile-menu-close">
                <i class="fas fa-times"></i>
            </button>
            <ul class="mobile-nav-list">
                <li class="mobile-nav-item"><a href="../index.html" class="mobile-nav-link">首页</a></li>
                <li class="mobile-nav-item"><a href="../index.html#about" class="mobile-nav-link">关于我</a></li>
                <li class="mobile-nav-item"><a href="../index.html#blog" class="mobile-nav-link">博客</a></li>
                <li class="mobile-nav-item"><a href="../index.html#contact" class="mobile-nav-link">联系</a></li>
            </ul>
        </div>
    </div>

    <!-- 主内容区 -->
    <main class="main-content">
        <section class="container">
            <div class="post-section">
                <article class="post">
                    <div class="post-header">
                        <h1 class="post-title">前端安全指南：防范常见安全威胁</h1>
                        <div class="post-meta">
                            <span class="post-date"><i class="far fa-calendar-alt"></i> 2023-10-12</span>
                            <span class="post-author"><i class="far fa-user"></i> 技术博主</span>
                            <span class="post-category"><i class="far fa-folder"></i> 前端安全</span>
                        </div>
                        <div class="post-image">
                            <img src="../images/blog-security.svg" alt="前端安全指南" class="post-featured-image">
                        </div>
                    </div>

                    <div class="post-content">
                        <p>在当今数字时代，前端安全问题日益受到重视。随着Web应用复杂度的增加，前端安全漏洞可能导致严重后果，包括数据泄露、账户劫持和服务中断。本文将详细介绍前端开发中常见的安全威胁以及相应的防范措施，帮助你构建更加安全的Web应用。</p>

                        <h2>一、XSS（跨站脚本攻击）</h2>
                        <p>XSS（Cross-Site Scripting）是最常见的前端安全威胁之一，攻击者通过在网页中注入恶意脚本，当用户访问这些页面时，恶意脚本会在用户的浏览器中执行。</p>

                        <h3>1. XSS的类型</h3>
                        <ul>
                            <li><strong>存储型XSS：</strong>恶意脚本被存储在服务器数据库中，当用户访问相关页面时被加载执行。</li>
                            <li><strong>反射型XSS：</strong>恶意脚本包含在URL中，服务器将其反射给用户浏览器执行。</li>
                            <li><strong>DOM型XSS：</strong>攻击不经过服务器，直接通过修改页面DOM环境触发。</li>
                        </ul>

                        <h3>2. 防范XSS的措施</h3>
                        <p>防范XSS攻击的核心是对用户输入进行严格的验证和转义，并正确设置内容安全策略。</p>

                        <div class="code-block">
                            <div class="code-title">输入验证与转义</div>
                            <pre><code>// 使用DOMPurify库清理HTML
import DOMPurify from 'dompurify';

// 清理用户输入的HTML
function sanitizeHTML(input) {
    return DOMPurify.sanitize(input);
}

// 示例使用
const userComment = '&lt;img src="x" onerror="alert(\'XSS攻击\')"&gt;';
const safeHTML = sanitizeHTML(userComment);
document.getElementById('comment').innerHTML = safeHTML;

// 在React中使用JSX自动转义
function Comment({ text }) {
    // 自动转义，安全
    return &lt;div&gt;{text}&lt;/div&gt;;
}

// 在Vue中使用v-html时要格外小心
// 不安全的用法
// &lt;div v-html="userInput"&gt;&lt;/div&gt;

// 安全的用法
// &lt;div v-html="sanitizedHTML"&gt;&lt;/div&gt;</code></pre>
                        </div>

                        <div class="code-block">
                            <div class="code-title">设置内容安全策略(CSP)</div>
                            <pre><code>// HTTP头设置CSP
// Content-Security-Policy: default-src 'self'; script-src 'self' https://trusted-cdn.com;

// 或者在HTML中设置
&lt;meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://trusted-cdn.com;"&gt;</code></pre>
                        </div>

                        <div class="warning">
                            <div class="warning-title"><i class="fas fa-exclamation-triangle"></i> 安全警告</div>
                            <p>避免使用innerHTML直接插入未经处理的用户输入，这是XSS攻击的常见入口点。始终对用户输入进行验证、过滤和转义。</p>
                        </div>

                        <h2>二、CSRF（跨站请求伪造）</h2>
                        <p>CSRF（Cross-Site Request Forgery）攻击诱导用户在已认证的Web应用上执行非预期的操作，攻击者利用用户的身份执行未授权的请求。</p>

                        <h3>1. CSRF攻击原理</h3>
                        <ol>
                            <li>用户登录了受信任的网站A，并获得了认证cookie。</li>
                            <li>用户在未登出网站A的情况下访问了恶意网站B。</li>
                            <li>恶意网站B向网站A发送了一个请求，该请求会自动包含用户的cookie。</li>
                            <li>网站A无法区分请求是来自合法用户还是恶意网站B，从而执行了恶意操作。</li>
                        </ol>

                        <h3>2. 防范CSRF的措施</h3>

                        <div class="code-block">
                            <div class="code-title">使用CSRF令牌</div>
                            <pre><code>// 服务器生成CSRF令牌并存储在用户会话中
// 前端获取令牌
const csrfToken = document.querySelector('meta[name="csrf-token"]').getAttribute('content');

// 发送请求时包含令牌
fetch('/api/transfer', {
    method: 'POST',
    credentials: 'same-origin', // 包含cookies
    headers: {
        'Content-Type': 'application/json',
        'X-CSRF-Token': csrfToken // 添加CSRF令牌到请求头
    },
    body: JSON.stringify({
        amount: 1000,
        recipient: 'attacker@example.com'
    })
});</code></pre>
                        </div>

                        <div class="code-block">
                            <div class="code-title">验证请求来源</div>
                            <pre><code>// 检查Referer和Origin头
function validateRequestOrigin(req, res, next) {
    const referer = req.headers.referer;
    const origin = req.headers.origin;
    
    // 验证请求来源是否合法
    const allowedOrigins = ['https://example.com', 'https://www.example.com'];
    
    if (referer && (allowedOrigins.some(allowed => referer.startsWith(allowed))) || 
        origin && allowedOrigins.includes(origin)) {
        return next();
    }
    
    return res.status(403).json({ error: 'Invalid request origin' });
}</code></pre>
                        </div>

                        <div class="note">
                            <div class="note-title"><i class="fas fa-info-circle"></i> 注意事项</div>
                            <p>确保对敏感操作使用额外的验证，如二次确认或输入密码。对于重要的状态变更，最好要求用户重新验证身份。</p>
                        </div>

                        <h2>三、不安全的直接对象引用（IDOR）</h2>
                        <p>IDOR（Insecure Direct Object References）是指开发者在引用内部资源时没有进行适当的授权检查，导致攻击者可以访问或修改其他用户的数据。</p>

                        <h3>1. IDOR的危害</h3>
                        <p>攻击者可以通过修改URL或请求参数来访问未经授权的资源，例如用户的个人信息、订单历史或账户设置。</p>

                        <h3>2. 防范IDOR的措施</h3>

                        <div class="code-block">
                            <div class="code-title">实施访问控制检查</div>
                            <pre><code>// 不安全的实现
app.get('/api/users/:userId/profile', (req, res) => {
    const userId = req.params.userId;
    // 直接根据ID获取用户资料，没有验证权限
    const userProfile = getUserProfile(userId);
    res.json(userProfile);
});

// 安全的实现
app.get('/api/users/:userId/profile', authenticateUser, (req, res) => {
    const userId = req.params.userId;
    const currentUserId = req.user.id;
    
    // 验证是否是用户自己的资料或用户有足够权限
    if (userId !== currentUserId && !hasAdminAccess(req.user)) {
        return res.status(403).json({ error: 'Access denied' });
    }
    
    const userProfile = getUserProfile(userId);
    res.json(userProfile);
});

// 生成不可预测的引用标识符
function generateSafeIdentifier() {
    return crypto.randomBytes(16).toString('hex');
}</code></pre>
                        </div>

                        <h2>四、SQL注入</h2>
                        <p>虽然SQL注入主要影响后端，但前端开发者也需要了解其风险并采取措施防止将不安全的输入传递给后端。</p>

                        <div class="code-block">
                            <div class="code-title">前端安全实践</div>
                            <pre><code>// 不安全的搜索
function unsafeSearch(keyword) {
    // 直接将用户输入拼接到请求中
    return fetch(`/api/search?query=${keyword}`);
}

// 安全的搜索
function safeSearch(keyword) {
    // 使用参数化查询
    return fetch('/api/search', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ query: keyword })
    });
}

// 输入验证
function validateInput(input) {
    // 移除特殊字符或限制输入格式
    const cleanInput = input.replace(/[;&'"\<>]/g, '');
    return cleanInput;
}</code></pre>
                        </div>

                        <div class="warning">
                            <div class="warning-title"><i class="fas fa-exclamation-triangle"></i> 安全警告</div>
                            <p>前端验证永远不能替代后端验证。无论前端如何处理，后端都应该对所有输入进行严格验证和过滤。</p>
                        </div>

                        <h2>五、不安全的依赖</h2>
                        <p>前端应用通常依赖大量第三方库和组件，这些依赖可能包含已知的安全漏洞。</p>

                        <h3>1. 依赖管理最佳实践</h3>

                        <div class="code-block">
                            <div class="code-title">使用工具扫描依赖漏洞</div>
                            <pre><code>// 使用npm audit检查依赖安全
// npm audit

// 使用yarn audit
// yarn audit

// 使用专门的安全扫描工具
// npm install -g snyk
// snyk test

// 自动更新依赖到安全版本
// npm audit fix
// yarn audit fix</code></pre>
                        </div>

                        <div class="note">
                            <div class="note-title"><i class="fas fa-lightbulb"></i> 实用建议</div>
                            <p>定期审查和更新依赖项，移除未使用的依赖，并考虑使用最小权限原则配置第三方库。</p>
                        </div>

                        <h2>六、敏感数据暴露</h2>
                        <p>前端应用可能会不小心暴露敏感信息，如API密钥、令牌或用户个人数据。</p>

                        <h3>1. 保护敏感数据的措施</h3>

                        <div class="code-block">
                            <div class="code-title">敏感数据处理</div>
                            <pre><code>// 不要在前端代码中硬编码敏感信息
// 错误示例
const apiKey = 'sk_live_12345abcdef';

// 正确做法：使用环境变量或服务器端生成
// 在开发环境中使用.env文件
// REACT_APP_API_URL=https://api.example.com

// 使用环境变量
const apiUrl = process.env.REACT_APP_API_URL;

// 避免在URL参数中传递敏感信息
// 错误示例
fetch(`/api/reset-password?token=${resetToken}`);

// 正确做法：使用POST请求
fetch('/api/reset-password', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({ token: resetToken })
});

// 安全存储令牌
function storeTokenSecurely(token) {
    // 短期令牌可以使用sessionStorage
    sessionStorage.setItem('authToken', token);
    
    // 长期令牌可以使用httpOnly cookie（由服务器设置）
}</code></pre>
                        </div>

                        <h2>七、会话管理安全</h2>
                        <p>会话管理不当可能导致会话劫持或会话固定攻击，使攻击者能够以合法用户的身份访问应用。</p>

                        <h3>1. 会话安全最佳实践</h3>

                        <ul>
                            <li>使用安全、随机生成的会话标识符</li>
                            <li>设置适当的会话过期时间</li>
                            <li>在用户登出时销毁会话</li>
                            <li>使用HTTPS保护所有会话数据传输</li>
                            <li>实施会话固定保护</li>
                        </ul>

                        <div class="code-block">
                            <div class="code-title">会话管理示例</div>
                            <pre><code>// 用户登出时清除所有相关数据
function handleLogout() {
    // 清除客户端存储的令牌
    sessionStorage.removeItem('authToken');
    localStorage.removeItem('userData');
    
    // 通知服务器注销会话
    fetch('/api/logout', {
        method: 'POST',
        credentials: 'same-origin'
    })
    .then(() => {
        // 重定向到登录页面
        window.location.href = '/login';
    })
    .catch(error => console.error('登出失败:', error));
}

// 自动过期检查
function checkSessionExpiry() {
    const lastActivity = localStorage.getItem('lastActivity');
    const now = Date.now();
    
    // 如果30分钟没有活动，自动登出
    if (now - lastActivity > 30 * 60 * 1000) {
        handleLogout();
    } else {
        // 更新最后活动时间
        localStorage.setItem('lastActivity', now.toString());
    }
}

// 定期检查会话状态
setInterval(checkSessionExpiry, 60 * 1000); // 每分钟检查一次

// 记录用户活动
function recordUserActivity() {
    localStorage.setItem('lastActivity', Date.now().toString());
}

// 监听用户交互
document.addEventListener('mousemove', recordUserActivity);
document.addEventListener('keydown', recordUserActivity);</code></pre>
                        </div>

                        <h2>八、前端安全开发框架与工具</h2>

                        <h3>1. 安全库和工具</h3>
                        <ul>
                            <li><strong>DOMPurify：</strong>用于清理HTML以防止XSS攻击</li>
                            <li><strong>JWT（JSON Web Tokens）：</strong>安全的令牌认证</li>
                            <li><strong>Helmet：</strong>Node.js安全头部设置</li>
                            <li><strong>Snyk：</strong>依赖安全扫描</li>
                            <li><strong>ESLint-plugin-security：</strong>检测JavaScript代码中的潜在安全问题</li>
                        </ul>

                        <h3>2. 安全开发实践</h3>
                        <ul>
                            <li>采用安全的编码标准和最佳实践</li>
                            <li>定期进行安全代码审查</li>
                            <li>实施自动化安全测试</li>
                            <li>建立漏洞报告和响应机制</li>
                            <li>持续学习和更新安全知识</li>
                        </ul>

                        <h2>九、总结</h2>

                        <p>前端安全是Web应用安全的重要组成部分。通过了解常见的安全威胁并采取相应的防范措施，我们可以显著提高Web应用的安全性。安全应该是开发过程中的核心考量，而不仅仅是事后添加的功能。</p>

                        <p>记住，最有效的安全策略是多层次的防御。前端安全措施应该与后端安全措施协同工作，共同构建一个全面的安全体系。</p>

                        <div class="note">
                            <div class="note-title"><i class="fas fa-lightbulb"></i> 最后建议</div>
                            <p>定期关注安全公告和更新，及时修补已知漏洞。安全是一个持续的过程，需要团队的共同努力和长期投入。</p>
                        </div>

                        <!-- 文章标签 -->
                        <div class="post-tags">
                            <a href="#" class="tag"><i class="fas fa-tag"></i> 前端安全</a>
                            <a href="#" class="tag"><i class="fas fa-tag"></i> XSS</a>
                            <a href="#" class="tag"><i class="fas fa-tag"></i> CSRF</a>
                            <a href="#" class="tag"><i class="fas fa-tag"></i> Web安全</a>
                            <a href="#" class="tag"><i class="fas fa-tag"></i> 安全最佳实践</a>
                        </div>

                        <!-- 社交分享 -->
                        <div class="social-share">
                            <a href="#" class="share-btn facebook" title="分享到Facebook"><i class="fab fa-facebook-f"></i></a>
                            <a href="#" class="share-btn twitter" title="分享到Twitter"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="share-btn linkedin" title="分享到LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                            <a href="#" class="share-btn reddit" title="分享到Reddit"><i class="fab fa-reddit-alien"></i></a>
                        </div>

                        <!-- 文章导航 -->
                        <div class="post-navigation">
                            <a href="vue3-composition-api-guide.html" class="post-nav-link previous">
                                <i class="fas fa-arrow-left"></i> 上一篇: Vue 3组合式API详细指南
                            </a>
                            <a href="web-accessibility-guide.html" class="post-nav-link next">
                                下一篇: Web无障碍设计完全指南 <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </article>

                <!-- 侧边栏 -->
                <aside class="post-sidebar">
                    <!-- 作者信息 -->
                    <div class="sidebar-widget">
                        <h3 class="widget-title">关于作者</h3>
                        <div class="author-bio">
                            <img src="../images/author.svg" alt="作者头像" class="author-image">
                            <h4 class="author-name">技术博主</h4>
                            <p>前端开发工程师，专注于Web安全、性能优化和现代前端框架，热爱分享技术知识。</p>
                            <div class="author-social">
                                <a href="#" title="GitHub"><i class="fab fa-github"></i></a>
                                <a href="#" title="Twitter"><i class="fab fa-twitter"></i></a>
                                <a href="#" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
                            </div>
                        </div>
                    </div>

                    <!-- 相关文章 -->
                    <div class="sidebar-widget">
                        <h3 class="widget-title">相关文章</h3>
                        <div class="related-posts">
                            <div class="related-posts-grid">
                                <div class="related-post">
                                    <div class="related-post-image">
                                        <a href="performance-optimization-guide.html"><img src="../images/blog1.svg" alt="前端性能优化实战指南"></a>
                                    </div>
                                    <div class="related-post-content">
                                        <div class="related-post-date">2023-10-05</div>
                                        <h4 class="related-post-title">
                                            <a href="performance-optimization-guide.html">前端性能优化实战指南</a>
                                        </h4>
                                    </div>
                                </div>
                                <div class="related-post">
                                    <div class="related-post-image">
                                        <a href="web-accessibility-guide.html"><img src="../images/blog4.svg" alt="Web无障碍设计完全指南"></a>
                                    </div>
                                    <div class="related-post-content">
                                        <div class="related-post-date">2023-09-22</div>
                                        <h4 class="related-post-title">
                                            <a href="web-accessibility-guide.html">Web无障碍设计完全指南</a>
                                        </h4>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>

            <!-- 评论区 -->
            <div class="comment-section">
                <h3>评论区</h3>
                <div class="comment-form">
                    <form>
                        <div class="form-group">
                            <label for="name">姓名</label>
                            <input type="text" id="name" placeholder="请输入您的姓名">
                        </div>
                        <div class="form-group">
                            <label for="email">邮箱</label>
                            <input type="email" id="email" placeholder="请输入您的邮箱">
                        </div>
                        <div class="form-group">
                            <label for="comment">评论内容</label>
                            <textarea id="comment" placeholder="请输入您的评论..."></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">提交评论</button>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <a href="../index.html">
                        <i class="fas fa-leaf"></i> 个人博客
                    </a>
                </div>
                <div class="footer-links">
                    <ul>
                        <li><a href="../index.html">首页</a></li>
                        <li><a href="../index.html#about">关于我</a></li>
                        <li><a href="../index.html#blog">博客</a></li>
                        <li><a href="../index.html#contact">联系</a></li>
                    </ul>
                </div>
                <div class="footer-social">
                    <a href="#" class="social-link" title="GitHub"><i class="fab fa-github"></i></a>
                    <a href="#" class="social-link" title="Twitter"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-link" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
                    <a href="#" class="social-link" title="Instagram"><i class="fab fa-instagram"></i></a>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 个人博客. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- 返回顶部按钮 -->
    <button class="back-to-top" id="back-to-top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        // 移动端菜单
        const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileMenuClose = document.getElementById('mobile-menu-close');

        mobileMenuToggle.addEventListener('click', () => {
            mobileMenu.classList.add('active');
        });

        mobileMenuClose.addEventListener('click', () => {
            mobileMenu.classList.remove('active');
        });

        // 返回顶部按钮
        const backToTopButton = document.getElementById('back-to-top');

        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                backToTopButton.classList.add('active');
            } else {
                backToTopButton.classList.remove('active');
            }
        });

        backToTopButton.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // 平滑滚动到锚点
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();

                const targetId = this.getAttribute('href');
                if (targetId === '#') return;

                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth'
                    });
                }

                // 关闭移动端菜单
                if (mobileMenu.classList.contains('active')) {
                    mobileMenu.classList.remove('active');
                }
            });
        });

        // 页面加载动画
        window.addEventListener('load', () => {
            // 可以在这里添加页面加载完成后的动画效果
            console.log('页面加载完成');
        });

        // 自动检测并记录用户活动
        document.addEventListener('mousemove', recordUserActivity);
        document.addEventListener('keydown', recordUserActivity);
        document.addEventListener('scroll', recordUserActivity);

        function recordUserActivity() {
            localStorage.setItem('lastActivity', Date.now().toString());
        }
    </script>
</body>
</html>